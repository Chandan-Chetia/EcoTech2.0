<!DOCTYPE html>
<html lang="en">
<head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoTech</title>

    <!-- PWA Meta Tags -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#008080">
    <meta name="description" content="An interactive platform for environmental education with gamified learning and real-world eco-tasks">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="EcoTech">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="frontend/favicon_io/android-chrome-512x512.png">
    <link rel="icon" type="image/svg+xml" href="frontend/favicon_io/logo-removebg-preview.png">
    <link rel="apple-touch-icon" sizes="180x180" href="frontend/favicon_io/apple-touch-icon.png">
    
    <link href="navbar.css" rel="stylesheet"> 
    <link href="style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <!-- PWA Install Prompt CSS -->
    <style>
    

   
  
    .progress-ring__progress {
      stroke: #4CAF50;
      stroke-dasharray: 326.73; /* circumference = 2πr */
      stroke-dashoffset: 326.73;
      transition: stroke-dashoffset 0.3s ease;
    }

 



        #installPrompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #008080;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: none;
            z-index: 1000;
            text-align: center;
            animation: slideUp 0.3s ease-out;
        }
        #installPrompt button {
            background: white;
            color: #008080;
            border: none;
            padding: 8px 15px;
            margin: 0 5px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }
        @keyframes slideUp {
            from { transform: translate(-50%, 100%); }
            to { transform: translate(-50%, 0); }
        }
    </style>
    
   
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="logo-container">
            <img src="frontend/favicon_io/logo-removebg-preview.png" alt="EcoTech Logo" class="logo">
            <span class="brand-name">EcoTech</span>
        </div>

        

            
        <div class="nav-links" id="navLinks">
            <a href="#" class="nav-link"><i class="fas fa-home"></i> Home</a>
            <a href="#" class="nav-link"><i class="fas fa-info-circle"></i> About</a>
            <a href="frontend/contact/index.html" class="nav-link"><i class="fas fa-envelope"></i> Contact</a>
        </div>
            

        <div class="nav-right">
            <div class="auth-buttons" id="authButtons">
                <button class="btn-login" onclick="openLoginModal()"><i class="fas fa-sign-in-alt"></i> Login</button>
                <button class="btn-signup" onclick="openSignupModal()">Sign Up</button>
            </div>
            
            <div class="user-profile" id="userProfile" style="display: none;">
                <a href="profile.html">
                    <img src="https://ui-avatars.com/api/?name=User&background=007bff&color=fff" alt="Profile" class="profile-icon" id="profileIcon">
                </a>
            </div>

            <button class="hamburger" id="hamburger">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>

    </nav>


   <div class="main">
        <div class="sub_main first">
            <div class="main-image-container">
                <img src="https://chandan-chetia.github.io/EcoTech_Img/e1.jpg" alt="Educational Image" class="main-responsive-image">
            </div>
        </div>
        <div class="sub_main second">
            <div class="first_sec">
            <div class="activity">
                <div class="progress-circle">
                        <svg class="progress-ring" width="120" height="120">
                            <circle class="progress-ring__circle progress-ring__background"/>
                            <circle class="progress-ring__circle progress-ring__progress" id="primaryProgressRing"
                            stroke-dashoffset="326.73" data-percentage="0" />
                        </svg>
                        <div class="progress-text" id="primaryProgressText">0%</div>
                        <div class="progress-label"></div>
                    </div>
                </div>
            <div class="activity">
                  <div class="progress-circle">
                        <svg class="progress-ring" width="120" height="120">
                            <circle class="progress-ring__circle progress-ring__background" />
                            <circle class="progress-ring__circle progress-ring__progress progress-38" 
                                    stroke-dashoffset="326.73" data-percentage="38" />
                        </svg>
                        <div class="progress-text" id="primaryProgressText">0%</div>
                    </div>
            </div>

            </div>
            <div class="first_sec">

            <div class="activity">
                    <div class="progress-circle">
                        <svg class="progress-ring" width="120" height="120">
                            <circle class="progress-ring__circle progress-ring__background" />
                            <circle class="progress-ring__circle progress-ring__progress progress-96" 
                                    stroke-dashoffset="326.73" data-percentage="96" />
                        </svg>
                        <div class="progress-text">0%</div>
                    </div>
            </div>
            
            <div class="activity">
                <div class="progress-circle">
                        <svg class="progress-ring" width="120" height="120">
                            <circle class="progress-ring__circle progress-ring__background" />
                            <circle class="progress-ring__circle progress-ring__progress progress-91" 
                                    stroke-dashoffset="326.73" data-percentage="91" />
                        </svg>
                        <div class="progress-text">0%</div>
                    </div>
            </div>
            </div>
        </div>
    </div><br>
    <section>
    <div class="section_row">

        <div class="data">
           <h5 class="section-title">Primary School Standard</h5>
           <a href="frontend/primary/primary.html" class="image-link">
               <img src="https://chandan-chetia.github.io/EcoTech_Img/e9.jpg" alt="Primary School Image" class="responsive-image">
           </a>
        </div>
        
        <div class="data">
           <h5 class="section-title">Middle School Standard</h5>
           <a href="frontend/middle/middle.html" class="image-link">
               <img src="https://chandan-chetia.github.io/EcoTech_Img/e7.jpg" alt="Middle School Image" class="responsive-image">
           </a>
        </div>
    </div>
    <div class="section_row">
        <div class="data">
            <h5 class="section-title">Secondary School Standard</h5>
           <a href="frontend/secondary/secondary.html" class="image-link">
               <img src="https://chandan-chetia.github.io/EcoTech_Img/e10.jpg" alt="Secondary Image" class="responsive-image">
           </a>
        </div>
        <div class="data">
            <h5 class="section-title">Higher School Standard</h5>
           <a href="frontend/high/high.html" class="image-link">
               <img src="https://chandan-chetia.github.io/EcoTech_Img/e14.png" alt="Higher School Image" class="responsive-image">
           </a>
        </div>
    </div>
    <div class="section_row">
        <div class="data">
            <h5 class="section-title">University Standard</h5>
           <a href="frontend/uni/uni.html" class="image-link">
               <img src="https://chandan-chetia.github.io/EcoTech_Img/e13.jpg" alt="Middle School Image" class="responsive-image">
           </a>
        </div>
        <div class="data">
            <h5 class="section-title">NGO's</h5>
           <a href="frontend/NGO/index.html" class="image-link">
               <img src="https://chandan-chetia.github.io/EcoTech_Img/e8.png" alt="Middle School Image" class="responsive-image">
           </a>
        </div>
    </div>

    <div class="section_row">
        <div class="data">
            <h5 class="section-title">Teacher's Hub</h5>
           <a href="frontend/teacher_hub/index.html" class="image-link">
               <img src="https://chandan-chetia.github.io/EcoTech_Img/e11.png" alt="Middle School Image" class="responsive-image">
           </a>
        </div>
        <div class="data">
            <h5 class="section-title">Friend's Hub</h5>
           <a href="frontend/friends/index.html" class="image-link">
               <img src="https://chandan-chetia.github.io/EcoTech_Img/e5.png" alt="Middle School Image" class="responsive-image">
           </a>
        </div>
    </div>





        
        <!-- Profile Section -->
        <div class="profile-section" id="profileSection">
            <div class="profile-header">
                <img src="https://ui-avatars.com/api/?name=User&background=007bff&color=fff" alt="Profile Picture" class="profile-picture" id="profilePicture">
                <div class="profile-info">
                    <h2 id="profileName">User Name</h2>
                    <p id="profileEmail">user@example.com</p>
                </div>
            </div>
            
            <div class="profile-stats">
                <div class="stat">
                    <span class="stat-value">12</span>
                    <span class="stat-label">Courses Completed</span>
                </div>
                <div class="stat">
                    <span class="stat-value">85%</span>
                    <span class="stat-label">Average Score</span>
                </div>
                <div class="stat">
                    <span class="stat-value">7</span>
                    <span class="stat-label">Badges Earned</span>
                </div>
                <div class="stat">
                    <span class="stat-value">15</span>
                    <span class="stat-label">Days Streak</span>
                </div>
            </div>
            
            <div class="profile-actions">
                <button class="btn-logout" onclick="logout()">Logout</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <b><p>Created with ❤️ for web development enthusiasts</p></b>
            
            <p class="footer-mission">
                Our mission is to make environmental education engaging, interactive, and practical. 
                Through gamified learning, quizzes, challenges, and real-world eco-tasks, 
                we inspire students to build sustainable habits and become changemakers for a greener tomorrow. 
                Together, we align with <b>SDG goals</b> and <b>NEP 2020</b> to empower India's youth in 
                protecting the environment.
            </p>
            <br>
            
            <div class="social-links">
                <h3>Connect With Us</h3>

                <div>
                    <a href="https://www.facebook.com/profile.php?id=61580445308257" target="_blank" class="social-link">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook" class="social-icon">
                        Facebook
                    </a>
                </div>

                <div>
                    <a href="https://x.com/EcoTech334" target="_blank" class="social-link">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6f/Logo_of_Twitter.svg" alt="Twitter" class="social-icon">
                        Twitter
                    </a>
                </div>

                <div>
                    <a href="https://www.instagram.com/ecotech726/" target="_blank" class="social-link">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram" class="social-icon">
                        Instagram
                    </a>
                </div>

                <div>
                    <a href="https://www.linkedin.com/in/eco-tech-427875383/" target="_blank" class="social-link">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/c/ca/LinkedIn_logo_initials.png" alt="LinkedIn" class="social-icon">
                        LinkedIn
                    </a>
                </div>
            </div>

            <p class="copyright">
                © 2025 EcoTech Platform | Developed for Smart India Hackathon 🌱 | 
                Empowering Students for a Sustainable Future
            </p>
        </div>
    </footer>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeLoginModal()">&times;</span>
            <h2>Login</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email:</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password:</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button type="submit" class="btn-submit">Login</button>
            </form>
            <div class="divider">
                <span>or</span>
            </div>
            <button class="btn-google" onclick="loginWithGoogle()">
               <img src="https://chandan-chetia.github.io/EcoTech_Img/e6.webp" alt="Google" class="social-icon">
               Continue with Google
            </button>
            <div style="text-align: center; margin-top: 15px;">
                <a href="#" onclick="openForgotPasswordModal()" style="color: #008080; text-decoration: none;">
                    Forgot Password?
                </a>
            </div>
            <div style="text-align: center; margin-top: 15px;">
                <a href="#" onclick="openSignupModal()" style="color: #008080; text-decoration: none;">
                    Don't have an account? Sign Up
                </a>
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeSignupModal()">&times;</span>
            <h2>Sign Up</h2>
            <form id="signupForm">
                <div class="form-group">
                    <label for="signupName">Name:</label>
                    <input type="text" id="signupName" required>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email:</label>
                    <input type="email" id="signupEmail" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password:</label>
                    <input type="password" id="signupPassword" required>
                </div>
                <button type="submit" class="btn-submit">Sign Up</button>
            </form>
            <div class="divider">
                <span>or</span>
            </div>
            <button class="btn-google" onclick="loginWithGoogle()">
                <img src="frontend/Google__G__logo.svg.webp" alt="Google" class="social-icon">
                Sign up with Google
            </button>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgotPasswordModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeForgotPasswordModal()">&times;</span>
            <h2>Reset Password</h2>
            <p style="margin-bottom: 20px;">Enter your email address and we'll send you a link to reset your password.</p>
            <form id="forgotPasswordForm">
                <div class="form-group">
                    <label for="resetEmail">Email:</label>
                    <input type="email" id="resetEmail" required>
                </div>
                <button type="submit" class="btn-submit">Send Reset Link</button>
            </form>
        </div>
    </div>

    <!-- PWA Install Prompt -->
    <div id="installPrompt">
        <p>Install EcoTech for a better experience! 📱</p>
        <button id="installButton">Install</button>
        <button id="dismissButton">Maybe Later</button>
    </div>

    <script src="script.js"></script>
    
    <!-- PWA Registration -->
    <script>
        const circle = document.getElementById("primaryProgressRing");
    const text = document.getElementById("primaryProgressText");
    const circumference = 2 * Math.PI * 52; // r=52

    function updateCircleProgress() {
      let progress = parseInt(localStorage.getItem("primaryProgress") || "0");
      if (progress > 100) progress = 100;

      const offset = circumference - (progress / 100) * circumference;
      circle.style.strokeDashoffset = offset;
      text.textContent = progress + "%";
    }

    // Run once on page load
    updateCircleProgress();

    // Auto update when localStorage changes
    window.addEventListener("storage", updateCircleProgress);

    // Also check every second (in case same tab updates localStorage)
    setInterval(updateCircleProgress, 1000);



        // Register Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/serviceWorker.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(err => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }

        // PWA Install Prompt
        let deferredPrompt;
        const installPromptDiv = document.getElementById('installPrompt');
        const installButton = document.getElementById('installButton');
        const dismissButton = document.getElementById('dismissButton');

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Check if user has previously dismissed or installed
            if (!localStorage.getItem('pwaInstallDismissed')) {
                installPromptDiv.style.display = 'block';
            }
        });

        installButton.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                if (outcome === 'accepted') {
                    console.log('User accepted the install prompt');
                }
                deferredPrompt = null;
                installPromptDiv.style.display = 'none';
            }
        });

        dismissButton.addEventListener('click', () => {
            installPromptDiv.style.display = 'none';
            localStorage.setItem('pwaInstallDismissed', 'true');
        });

        // If the app is installed, hide the prompt
        window.addEventListener('appinstalled', () => {
            installPromptDiv.style.display = 'none';
            localStorage.setItem('pwaInstalled', 'true');
        });
    </script>
</body>
</html>